{% if phase == None %}
{% elif phase.is_future %}
    <p>This phase of the competition has not started yet. Please check back later.</p>
{% else %}
    <div class="leaderboard-result-table">
        {% for group in groups %}
        <table class="prevResultSubmission dataTable">
            <tr class="table-title">
              <th colspan="{{group.total_span}}">{{group.label}}</th>
            </tr>
             <tr class="dataTable-header">
                <th rowspan="2"></th>
                <th rowspan="2">User</th>
                 {% for head in group.headers %}
                 {% for label,subs in head.items %}
                   <th {% if subs %} colspan="{{subs|length}}" {% else %} rowspan="2" class="column-selectable" {% endif %}>{{label}}</th>
                 {% endfor %}
                 {% endfor %}  
             </tr>
             <tr>
                {% for head in group.headers %}
                {% for label,subs in head.items %} 
                    {% if subs %}
                    {% for s in subs %}
                    <th class="column-selectable">{{s}}</th>
                    {% endfor %}
                    {% endif %}
                {% endfor %}
                {% endfor %}
            </tr>
            {% if group.scores.items|length_is:"0" %}
            <tr class="noData">
                <td colspan="{{group.total_span}}">No data available in table</td>
            </tr>  
            {% else %}  
            {% for pk,scoredata in group.scores.items %}
            <tr>
                <td>1</td>
                <td>{{scoredata.username}}</td>
                {% for v in scoredata.values %}
                    {% if 'rnk' in v %}
                        <td>{{v.val}} (<span class="rank">{{v.rnk}}</span>)</td>
                    {% else %}
                        <td>{{v.val}} <span class="rank hide">{{v.hidden_rnk}}</span></td>
                    {% endif %}
                {% endfor %}
            </tr>
            {% endfor %}
            {% endif %}
        </table>
        </br>
        {% endfor %}        
    </div>
{% endif %}
